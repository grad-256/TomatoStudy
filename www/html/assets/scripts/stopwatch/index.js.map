{"version":3,"sources":["webpack:///./src/stopwatch/index.ts"],"names":[],"mappings":"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","file":"./stopwatch/index.js","sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\nimport 'tslib'\nimport Vue from 'vue'\n\ntype TDATA = {\n  times: any[]\n  animateFrame: number\n  nowTime: number\n  diffTime: number\n  startTime: number\n  isRunning: boolean\n  selected: number\n}\n\nconst root = new Vue({\n  data(): TDATA {\n    return {\n      times: [],\n      animateFrame: 0,\n      nowTime: 0,\n      diffTime: 0,\n      startTime: 0,\n      isRunning: false,\n      selected: 0,\n    }\n  },\n  methods: {\n    sound(type: any, sec: number) {\n      const ctx = new AudioContext()\n      const osc = ctx.createOscillator()\n      osc.type = type\n      osc.connect(ctx.destination)\n      osc.start()\n      osc.stop(sec)\n    },\n\n    // 現在時刻から引数に渡した数値を startTime に代入\n    setSubtractStartTime: function (time: number): void {\n      const istime = typeof time !== 'undefined' ? time : 0\n\n      this.startTime = Math.floor(performance.now() - istime)\n    },\n    // タイマーをスタートさせる\n    startTimer: function (): void {\n      // loop()内で this の値が変更されるので退避\n      this.setSubtractStartTime(this.diffTime)\n      // ループ処理\n      this.loop()\n\n      this.isRunning = true\n    },\n\n    loop(): void {\n      this.nowTime = Math.floor(performance.now())\n      this.diffTime = this.nowTime - this.startTime\n      // eslint-disable-next-line @typescript-eslint/unbound-method\n      this.animateFrame = requestAnimationFrame(this.loop)\n    },\n    // タイマーを停止させる\n    stopTimer: function (): void {\n      this.isRunning = false\n      cancelAnimationFrame(this.animateFrame)\n    },\n    // 計測中の時間を配列に追加\n    pushTime: function (): void {\n      const pushObj = {\n        hours: this.hours,\n        minutes: this.minutes,\n        seconds: this.seconds,\n        milliSeconds: this.milliSeconds,\n      } as any\n\n      this.times.push(pushObj)\n    },\n    // 初期化\n    clearAll: function (): void {\n      this.startTime = 0\n      this.nowTime = 0\n      this.diffTime = 0\n      this.times = []\n      this.stopTimer()\n      this.animateFrame = 0\n    },\n  },\n  computed: {\n    // 時間を計算\n    hours: function (): number {\n      return Math.floor(this.diffTime / 1000 / 60 / 60)\n    },\n    // 分数を計算 (60分になったら0分に戻る)\n    minutes: function (): number {\n      return Math.floor(this.diffTime / 1000 / 60) % 60\n    },\n    // 秒数を計算 (60秒になったら0秒に戻る)\n    seconds: function (): number {\n      return Math.floor(this.diffTime / 1000) % 60\n    },\n    // ミリ数を計算 (1000ミリ秒になったら0ミリ秒に戻る)\n    milliSeconds: function (): number {\n      return Math.floor(this.diffTime % 1000)\n    },\n  },\n  watch: {\n    minutes: function (e) {\n      if (e === Number(this.selected)) {\n        this.sound('triangle', 0.3)\n        this.stopTimer()\n      }\n    },\n  },\n  filters: {\n    // ゼロ埋めフィルタ 引数に桁数を入力する\n    // ※ String.prototype.padStart() は IEじゃ使えない\n    zeroPad: function (value: string, num: number) {\n      const isnum = typeof num !== 'undefined' ? num : 2\n      return value.toString().padStart(isnum, '0')\n    },\n  },\n})\n\nroot.$mount('#app')\n"],"sourceRoot":""}